{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Lorenzo/Documents/esercizi/mese3/settimana2/test_settimanale_s10/testAngular1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar posts;\nfetch('http://localhost:3000/lista').then(response => response.json()).then(data => posts = data);\nexport function getPosts() {\n  return _getPosts.apply(this, arguments);\n} // export function updatePost(data:Partial<Post>, id:number){\n//   posts=posts.map(post=> post.id==id ? {...post, ...data}:post)\n//   return posts.find(post=>post.id== id) as Post\n// }\n\nfunction _getPosts() {\n  _getPosts = _asyncToGenerator(function* () {\n    return yield (yield fetch('http://localhost:3000/lista')).json();\n  });\n  return _getPosts.apply(this, arguments);\n}\n\nexport function changeStatus(post) {\n  fetch(`http://localhost:3000/lista/${post.id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json;charset=utf-8'\n    },\n    body: JSON.stringify({\n      body: post.body,\n      title: post.title,\n      active: !post.active,\n      type: post.type,\n      id: post.id\n    })\n  }).then(response => {\n    return response.json();\n  });\n}","map":{"version":3,"mappings":";AAEA,IAAIA,KAAJ;AACAC,KAAK,CAAC,6BAAD,CAAL,CACCC,IADD,CACOC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADpB,EAECF,IAFD,CAEOG,IAAD,IAAUL,KAAK,GAACK,IAFtB;AAIA,gBAAsBC,QAAtB;EAAA;AAAA,C,CAIA;AACA;AACA;AACA;;;gCAPO,aAAuB;IAC3B,aAAa,OAAOL,KAAK,CAAC,6BAAD,CAAZ,EAA6CG,IAA7C,EAAb;EACF,C;;;;AAMD,OAAM,SAAUG,YAAV,CAAuBC,IAAvB,EAAgC;EAEtCP,KAAK,CAAC,+BAA+BO,IAAI,CAACC,EAAE,EAAvC,EAA0C;IAC7CC,MAAM,EAAE,KADqC;IAEvCC,OAAO,EAAE;MACL,gBAAgB;IADX,CAF8B;IAKvCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MACjBF,IAAI,EAAEJ,IAAI,CAACI,IADM;MAEjBG,KAAK,EAAEP,IAAI,CAACO,KAFK;MAGjBC,MAAM,EAAE,CAACR,IAAI,CAACQ,MAHG;MAIvBC,IAAI,EAAET,IAAI,CAACS,IAJY;MAKjBR,EAAE,EAAED,IAAI,CAACC;IALQ,CAAf;EALiC,CAA1C,CAAL,CAYOP,IAZP,CAYaC,QAAD,IAAa;IACjB,OAAOA,QAAQ,CAACC,IAAT,EAAP;EACH,CAdL;AAeC","names":["posts","fetch","then","response","json","data","getPosts","changeStatus","post","id","method","headers","body","JSON","stringify","title","active","type"],"sourceRoot":"","sources":["C:\\Users\\Lorenzo\\Documents\\esercizi\\mese3\\settimana2\\test_settimanale_s10\\testAngular1\\src\\app\\posts.service.ts"],"sourcesContent":["import { Post } from \"./models/post\"\n\nvar posts:Post[];\nfetch('http://localhost:3000/lista')\n.then((response) => response.json())\n.then((data) => posts=data);\n\nexport async function getPosts(){\n   return await (await fetch('http://localhost:3000/lista')).json()\n}\n\n// export function updatePost(data:Partial<Post>, id:number){\n//   posts=posts.map(post=> post.id==id ? {...post, ...data}:post)\n//   return posts.find(post=>post.id== id) as Post\n// }\nexport function changeStatus(post:Post){\n\nfetch(`http://localhost:3000/lista/${post.id}`,{\n  method: 'PUT',\n        headers: {\n            'Content-Type': 'application/json;charset=utf-8',\n        },\n        body: JSON.stringify({\n            body: post.body,\n            title: post.title,\n            active: !post.active,\n      type: post.type,\n            id: post.id\n        }),\n    }).then((response) => {\n        return response.json();\n    });\n}\n"]},"metadata":{},"sourceType":"module"}